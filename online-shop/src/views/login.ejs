<%#
  Файл: src/views/login.ejs
  Назначение:
    Форма входа пользователя с обработкой flash-сообщений.
%>

<div
	class="d-flex justify-content-center align-items-center"
	style="min-height: 60vh"
>
	<div class="card shadow-sm" style="width: 100%; max-width: 400px">
		<div class="card-header text-center bg-primary text-white">
			<h3 class="mb-0">Вход</h3>
		</div>
		<div class="card-body">
			<!-- Ошибки -->
			<% if (errorMessages && errorMessages.length) { %>
			<div class="alert alert-danger">
				<% errorMessages.forEach(msg => { %>
				<div><i class="bi bi-exclamation-circle-fill me-2"></i><%= msg %></div>
				<% }) %>
			</div>
			<% } %>

			<!-- Успех -->
			<% if (successMessages && successMessages.length) { %>
			<div class="alert alert-success">
				<% successMessages.forEach(msg => { %>
				<div><i class="bi bi-check-circle-fill me-2"></i><%= msg %></div>
				<% }) %>
			</div>
			<% } %>

			<form action="/login" method="post" novalidate>
				<div class="mb-3">
					<label for="email" class="form-label">Электронная почта</label>
					<input
						type="email"
						id="email"
						name="email"
						class="form-control"
						value="<%= typeof email !== 'undefined' ? email : '' %>"
						placeholder="example@mail.com"
						required
					/>
				</div>
				<div class="mb-4">
					<label for="password" class="form-label">Пароль</label>
					<input
						type="password"
						id="password"
						name="password"
						class="form-control"
						placeholder="••••••••"
						required
					/>
				</div>
				<button type="submit" class="btn btn-primary w-100 mb-2">Войти</button>
			</form>

			<div class="text-center">
				<small>
					Нет аккаунта?
					<a href="/register" class="link-primary">Зарегистрироваться</a>
				</small>
			</div>
		</div>
	</div>
</div>
